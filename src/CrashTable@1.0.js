(()=>{function t(t,e,o="Close",n="",a=(()=>{})){var r=function(t,e,o,n,a){var r=document.createElement("div");r.setAttribute("class","modal fade modal-custom"),r.setAttribute("tabindex","-1"),r.setAttribute("aria-labelledby","modalLabel"),r.setAttribute("aria-hidden","true");var l=document.createElement("div");l.setAttribute("class","modal-dialog");var s=document.createElement("div");s.setAttribute("class","modal-content");var i=function(t){var e=document.createElement("div");e.setAttribute("class","modal-header"),e.setAttribute("style","border-bottom: none;");var o=document.createElement("h5");o.setAttribute("class","modal-title"),o.setAttribute("id","modalLabel"),o.innerText=t;var n=document.createElement("button");return n.setAttribute("class","btn-close"),n.setAttribute("data-bs-dismiss","modal"),n.setAttribute("aria-label","Close"),e.append(o),e.append(n),e}(t);s.append(i);var d=document.createElement("div");d.setAttribute("class","modal-body"),d.innerHTML=e,s.append(d);var c=function(t,e,o){var n=document.createElement("div");n.setAttribute("class","modal-footer"),n.setAttribute("style","border-top: none;");var a=document.createElement("button");if(a.setAttribute("type","button"),a.setAttribute("class","btn btn-secondary"),a.setAttribute("data-bs-dismiss","modal"),a.innerText=t,n.append(a),e&&o){var r=document.createElement("button");r.setAttribute("type","button"),r.setAttribute("class","btn btn-primary"),r.innerText=e,r.addEventListener("click",o),n.append(r)}return n}(o,n,a);return s.append(c),l.append(s),r.append(l),r}(t,e,o,n,a);document.body.append(r),this.bsModal=bootstrap.Modal.getOrCreateInstance(r),this.show=function(){this.bsModal.show()}}function e(){$(".modal").remove(),$(".modal-custom").remove(),$(".modal-backdrop").remove(),$(".modal-dialog").remove(),$("body").removeClass("modal-open"),$("body").removeAttr("style")}function o(t,e){$.LoadingOverlay("show"),$("#"+e).empty(),$("#"+e).load(t,(function(t,e,o){"error"==e?($.LoadingOverlay("hide"),Swal.fire({title:"Sorry but there was an error: "+o.status+" "+o.statusText,text:"",type:"error"}).then((function(t){return!1}))):$.LoadingOverlay("hide")}))}function n(t,e){const o=document.getElementById(t).getElementsByTagName("tr");for(let t=0;t<o.length;t++){const e=o[t].getElementsByTagName("td");if(t%2!=0)for(let t=0;t<e.length;t++)e[t].setAttribute("data-fill-color","e2fbff");else for(let t=0;t<e.length;t++)e[t].setAttribute("data-fill-color","f2f2f2")}TableToExcel.convert(document.getElementById(t),{name:e,sheet:{name:"Sheet 1"}})}$.fn.CrashDataTable=function(a,r,l){const s={};var i={},d={},c={},u=a.TotalFormadd,m=a.ConfigForm,b=a.StartFixedCloumn;console.log(m),a.ResizeTable&&function(t){$("#"+t+" th").css("cursor","col-resize");var e,o,n=!1,a=void 0;$("#"+t+" th").mousedown((function(t){a=$(this),n=!0,e=t.pageX,o=$(this).width(),$(a).addClass("resizing"),console.log(a)})),$(document).mousemove((function(t){n&&$(a).width(o+(t.pageX-e))})),$(document).mouseup((function(){n&&($(a).removeClass("resizing"),n=!1)}))}(a.id),a.ShortTable&&(d={iDisplayLength:-1,aaSorting:[[a.ShortingRow,a.TypeShorting]]}),a.FixedCloumn&&(c={fixedColumns:{start:b}}),a.button?i={dom:"Bfrtip",buttons:{dom:{button:{className:"btn"}},buttons:[{text:"Export Excel",className:"btn btn-outline-success",action:function(){n(a.id,"Export Excel.xlsx")}},{extend:"pdf",text:"Export PDF",className:"btn btn-outline-danger"},{text:"Add Data",className:"btn btn-outline-primary",action:function(n,a,r,l){console.log(n);var i="";for(let t=0;t<u;t++)placeholder=m.Placehorder[t],idForm=m.id[t],i=i+'<div class="col-lg-12"><input class="form-control" placeholder="'+placeholder+'" id="'+idForm+t+'"></div><br> ';new t("Add Data",i,"Close","Confirm",(()=>{const t=m.UrlLinkEnd,n=m.urlLoad,a=m.idDivCall;for(let t=0;t<u;t++){const e=m.id[t],o=(m.Placehorder[t],document.getElementById(e+t).value);s[e]=o}$.ajax({type:"POST",url:t,data:s}).success((function(t){Swal.fire({title:"Berhasil!",text:"Anda Berhasil Input Data",icon:"success"});for(let t=0;t<u;t++){const e=m.id[t],o=(m.Placehorder[t],document.getElementById(e+t).value="");s[e]=o}e(),o(n,a)}))})).show()}}]},initComplete:function(){this.api().columns().every((function(){let t=this,e=t.footer().textContent,o=document.createElement("input");o.classList.add("form-control-sm"),o.style.width="auto",o.placeholder=e,t.footer().replaceChildren(o),o.addEventListener("keyup",(()=>{t.search()!==this.value&&t.search(o.value).draw()}))}))}}:a.Excel?i={dom:"Bfrtip",buttons:{dom:{button:{className:"btn"}},buttons:[{text:"Export Excel",className:"btn btn-outline-success",action:function(){n(a.id,"Export Excel.xlsx")}}]}}:a.Pdf?i={dom:"Bfrtip",buttons:{dom:{button:{className:"btn"}},buttons:[{extend:"pdf",text:"Export PDF",className:"btn btn-outline-danger"}]}}:a.SearchFooter?i={initComplete:function(){this.api().columns().every((function(){let t=this,e=t.footer().textContent,o=document.createElement("input");o.classList.add("form-control-sm"),o.style.width="auto",o.placeholder=e,t.footer().replaceChildren(o),o.addEventListener("keyup",(()=>{t.search()!==this.value&&t.search(o.value).draw()}))}))}}:a.ButtonAddData&&(i={dom:"Bfrtip",buttons:{dom:{button:{className:"btn"}},buttons:[{text:"Add Data",className:"btn btn-outline-primary",action:function(n,a,r,l){var i="";for(let t=0;t<u;t++)placeholder=m.Placehorder[t],idForm=m.id[t],i=i+'<div class="col-lg-12"><input class="form-control" placeholder="'+placeholder+'" id="'+idForm+t+'"></div><br> ';new t("Add Data",i,"Close","Confirm",(()=>{const t=m.UrlEndPoint,n=m.urlLoad,a=m.idDivCall;for(let t=0;t<u;t++){const e=m.id[t],o=(m.Placehorder[t],document.getElementById(e+t).value);s[e]=o}$.ajax({type:"POST",url:t,data:s}).success((function(t){Swal.fire({title:"Berhasil!",text:"Anda Berhasil Input Data",icon:"success"}),e(),o(n,a)}))})).show()}}]}});let p={...i,...r,...d,...c};return console.log(p),this.DataTable(p)}})();
